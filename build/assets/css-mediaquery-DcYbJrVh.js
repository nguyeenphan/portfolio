var v={};v.match=R;v.parse=l;var h=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,E=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,x=/^(?:(min|max)-)?(.+)/,w=/(em|rem|px|cm|mm|in|pt|pc)?$/,_=/(dpi|dpcm|dppx)?$/;function R(s,e){return l(s).some(function(r){var n=r.inverse,u=r.type==="all"||e.type===r.type;if(u&&n||!(u||n))return!1;var i=r.expressions.every(function(c){var o=c.feature,m=c.modifier,a=c.value,t=e[o];if(!t)return!1;switch(o){case"orientation":case"scan":return t.toLowerCase()===a.toLowerCase();case"width":case"height":case"device-width":case"device-height":a=f(a),t=f(t);break;case"resolution":a=d(a),t=d(t);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":a=p(a),t=p(t);break;case"grid":case"color":case"color-index":case"monochrome":a=parseInt(a,10)||1,t=parseInt(t,10)||0;break}switch(m){case"min":return t>=a;case"max":return t<=a;default:return t===a}});return i&&!n||!i&&n})}function l(s){return s.split(",").map(function(e){e=e.trim();var r=e.match(h),n=r[1],u=r[2],i=r[3]||"",c={};return c.inverse=!!n&&n.toLowerCase()==="not",c.type=u?u.toLowerCase():"all",i=i.match(/\([^\)]+\)/g)||[],c.expressions=i.map(function(o){var m=o.match(E),a=m[1].toLowerCase().match(x);return{modifier:a[1],feature:a[2],value:m[2]}}),c})}function p(s){var e=Number(s),r;return e||(r=s.match(/^(\d+)\s*\/\s*(\d+)$/),e=r[1]/r[2]),e}function d(s){var e=parseFloat(s),r=String(s).match(_)[1];switch(r){case"dpcm":return e/2.54;case"dppx":return e*96;default:return e}}function f(s){var e=parseFloat(s),r=String(s).match(w)[1];switch(r){case"em":return e*16;case"rem":return e*16;case"cm":return e*96/2.54;case"mm":return e*96/2.54/10;case"in":return e*96;case"pt":return e*72;case"pc":return e*72/12;default:return e}}export{v as c};
